<!DOCTYPE html>
<html lang="ru">
<head>
    <title>Восстановление Seagate 1Tb ST31000528AS 7200.12 - For system administrator</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link href="https://metajiji.github.io/favicon.png" rel="icon">

<link rel="canonical" href="https://metajiji.github.io/blog/seagate-1tb-st31000528as-720012/">

        <meta name="author" content="Denis Kadyshev" />
        <meta name="keywords" content="HDD,Seagate,Recovery,Serial,7200.12" />
        <meta name="description" content="Перестал определяться в BIOS ST31000528AS (CC35) 7200.12, первое что подумал - 1Tb данных пропал безвозвратно, но погуглив, понял, что не все так плохо, как кажется и решил побороться за данные и HDD, и так, подключаемся к HDD через serial терминал. Для подключения использовал FTDI232, в распоряжении был еще BusPirate, но …" />




    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://metajiji.github.io/theme/css/bootstrap.custom.min.css" type="text/css"/>
    <link href="https://metajiji.github.io/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://metajiji.github.io/theme/css/pygments/monokai.css" rel="stylesheet">
    <link href="https://metajiji.github.io/theme/tipuesearch/tipuesearch.css" rel="stylesheet">
    <link rel="stylesheet" href="https://metajiji.github.io/theme/css/style.css" type="text/css"/>

        <link href="https://metajiji.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="For system administrator ATOM Feed"/>



        <link href="https://metajiji.github.io/feeds/hardware.atom.xml" type="application/atom+xml" rel="alternate"
              title="For system administrator Hardware ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://metajiji.github.io/" class="navbar-brand">
For system administrator            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="/">Blog</a></li>
                         <li><a href="https://metajiji.github.io/about/">
                             About
                          </a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><span>
                <form class="navbar-search" action="/search.html">
                  <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input" required>
                </form></span>
              </li>
              <li><a href="https://metajiji.github.io/archives/"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
            <ol class="breadcrumb">
                <li><a href="https://metajiji.github.io" title="For system administrator"><i class="fa fa-home fa-lg"></i></a></li>
                <li><a href="https://metajiji.github.io/category/hardware/" title="Hardware">Hardware</a></li>
                <li class="active">Восстановление Seagate 1Tb ST31000528AS 7200.12</li>
            </ol>
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://metajiji.github.io/blog/seagate-1tb-st31000528as-720012/"
                       rel="bookmark"
                       title="Permalink to Восстановление Seagate 1Tb ST31000528AS 7200.12">
                        Восстановление Seagate 1Tb ST31000528AS 7200.12
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2015-07-03T00:00:00+06:00"> Пт. 03 Июль 2015</time>
    </span>
          <span class="label label-default">Modified</span>
            <span class="modified">
                <i class="fa fa-calendar"></i><time datetime="2015-07-03T00:00:00+06:00"> Пт. 03 Июль 2015</time>
            </span>


            <span class="label label-default">By</span>
            <a href="https://metajiji.github.io/author/denis-kadyshev.html"><i class="fa fa-user"></i> Denis Kadyshev</a>

        <span class="label label-default">Category</span>
        <a href="https://metajiji.github.io/category/hardware/">Hardware</a>


<span class="label label-default">Tags</span>
	<a href="https://metajiji.github.io/tag/hdd/">HDD</a>
        /
	<a href="https://metajiji.github.io/tag/seagate/">Seagate</a>
        /
	<a href="https://metajiji.github.io/tag/recovery/">Recovery</a>
        /
	<a href="https://metajiji.github.io/tag/serial/">Serial</a>
        /
	<a href="https://metajiji.github.io/tag/720012/">7200.12</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>Перестал определяться в BIOS <strong>ST31000528AS</strong> (<code>CC35</code>) <code>7200.12</code>, первое что подумал - 1Tb данных пропал безвозвратно, но погуглив, понял, что не все так плохо,
 как кажется и решил побороться за данные и <strong>HDD</strong>, и так, подключаемся к <strong>HDD</strong> через <strong>serial терминал</strong>.</p>
<p><img alt="HDD Serial port" class="mfp-image center-block" src="https://metajiji.github.io/blog/seagate-1tb-st31000528as-720012/07-03-2015_seagate-1tb-st31000528as-720012/1.jpg">
Для подключения использовал <strong>FTDI232</strong>, в распоряжении был еще <strong>BusPirate</strong>, но до него дело не дошло, <strong>FTDI232</strong> справился отлично.</p>
<div class="highlight"><pre><span></span><span class="c1"># screen /dev/ttyUSB0 38400</span>
Rst 0x20M
ASCII Diag mode

F3 T&gt;<span class="p">;</span>
</pre></div>


<p>Как видно, тут что-то не так <code>Rst 0x20M</code> - происходит сброс, зайдем в терминал нажатием <kbd>Ctrl+z</kbd> и попробуем проверить работу электроники и механики путём отключения/включения шпинделя:</p>
<div class="highlight"><pre><span></span>F3 F&gt;Z
Spin Down Complete
Elapsed Time <span class="m">513</span>.285 msecs 
F3 F&gt;U
 HighPowerMode 
ExecuteSpinRequest

Spin Up Complete
Elapsed Time <span class="m">5</span>.776 secs 
F3 F&gt;
</pre></div>


<p>Ошибок не было, значит с большей долей вероятности все живое и функционирует, поиск по интернету показал,
 что проблема в <strong>SMART</strong> данных (они хранятся на пластинах диска) - можно попробовать сбросить <strong>SMART</strong> данные:</p>
<div class="highlight"><pre><span></span>F3 T&gt;/1
F3 <span class="m">1</span>&gt;N1
Init SMART Fail
LED:000000CC FAddr:0024EE41
LED:000000CC FAddr:0024EE41
</pre></div>


<p>А вот и ошибки, опять же поиск подсказывает, что необходимо форматировать пользовательскую зону с сертификацией, без записи, используя <code>Slip(V1)</code>-лист, т.е. пересчитать транслятор,
 пробуем, для этого я отключил кабель питания <strong>HDD</strong>, дождался остановки шпинделя (почему-то я не отключил его) и включил снова:</p>
<div class="highlight"><pre><span></span><span class="c1"># screen /dev/ttyUSB0 38400</span>
Rst 0x20M
ASCII Diag mode

F3 T&gt;
</pre></div>


<p>Снова зашел в терминал диска нажатием <kbd>Ctrl+z</kbd> и попробовал пересчитать транслятор, как рекомендуют на форуме:</p>
<div class="highlight"><pre><span></span>F3 T&gt;V4
Reassigned Sectors List
Original     New    log log   log     phy     phy
    LBA      PBA    cyl  hd  sctr zn  cyl hd  sctr     SFI

         Alt   Pending  Total    Alted  Total
       Entries Entries Entries    Alts   Alts
Head <span class="m">0</span>              <span class="m">0</span>
Head <span class="m">1</span>              <span class="m">0</span>
Head <span class="m">2</span>              <span class="m">0</span>
Head <span class="m">3</span>              <span class="m">0</span>
Total        <span class="m">0</span>      <span class="m">0</span>       <span class="m">0</span>        <span class="m">0</span>      <span class="m">0</span>
Total Alt Removals:    <span class="m">0</span>
<span class="nv">Checksum</span> <span class="o">=</span> <span class="m">0000</span>

F3 T&gt;V1
 User Slip Defect List
                         log log   log     phys   phys
    LBA    span   cumm   cyl  hd  sctr zn   cyl   sctr     SFI      PBA
       <span class="m">0</span>      <span class="m">0</span>      <span class="m">0</span>     <span class="m">0</span>  <span class="m">0</span>     <span class="m">0</span>   <span class="m">0</span>      <span class="m">0</span>     <span class="m">0</span>        <span class="m">4</span>        <span class="m">0</span>

Head <span class="m">0</span>: entries      <span class="m">1</span>        slips        <span class="m">0</span>
Head <span class="m">1</span>: entries      <span class="m">0</span>        slips        <span class="m">0</span>
Head <span class="m">2</span>: entries      <span class="m">0</span>        slips        <span class="m">0</span>
Head <span class="m">3</span>: entries      <span class="m">0</span>        slips        <span class="m">0</span>
  Total Entries      <span class="m">1</span>  Total Slips        <span class="m">0</span>

F3 T&gt;m0,2,2,,,,,22
Max Wr <span class="nv">Retries</span> <span class="o">=</span> <span class="m">00</span>, Max Rd <span class="nv">Retries</span> <span class="o">=</span> <span class="m">00</span>, Max ECC T-Level <span class="o">=</span> <span class="m">16</span>, Max Certify Rewrite <span class="nv">Retries</span> <span class="o">=</span> 2DF8

User Partition Format Successful - Elapsed Time <span class="m">0</span> mins <span class="m">00</span> secs
Zone re-format was skipped.
</pre></div>


<p>Ошибок не было, все прошло успешно, теперь необходимо обязательно отключить питание <strong>HDD</strong> и можно пробовать подключать <strong>SATA</strong> кабель и проверять данные!</p>
<p>Итак, после включения диск определился в <strong>BIOS</strong>, после загрузки ос я увидел все свои данные в целости и сохранности, на всякий случай скопировал оттуда фотографии и видео на другой диск.</p>
<p>У меня был еще такой же диск, но с прошивкой поновее <code>CC38</code>, поэтому я решил обновить её, делается это не так сложно,
 на <a href="http://knowledge.seagate.com/articles/en_US/FAQ/213891en" title="Barracuda 7200.12 Firmware Update">сайте производителя [2]</a> есть необходимый софт,
 мне очень подошел вариант с <strong>iso</strong> образом - я загрузился по сети <strong>pxeboot</strong> и произвел процедуру обновления, она не сложная.</p>
<hr>
<p>Ссылки по теме:</p>
<ol>
<li><a href="http://ab57.ru/hdd.html">Восстановление работоспособности жесткого диска</a></li>
<li><a href="http://knowledge.seagate.com/articles/en_US/FAQ/213891en" title="Barracuda 7200.12 Firmware Update">Barracuda 7200.12 Firmware Update</a></li>
<li><a href="http://www.ihdd.ru/forum/viewtopic.php?t=8998">Maxtor DiamondMax 23 STM3500418AS не определяется в BIOS</a></li>
<li><a href="https://xakep.ru/2014/11/02/exstence-standart-harddisk/">Расширяем стандартные возможности жесткого диска</a></li>
</ol>
            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'github-metajiji-blog'; // required: replace example with your forum shortname

                var disqus_url = 'https://metajiji.github.io/blog/seagate-1tb-st31000528as-720012/';

            var disqus_config = function () {
                this.language = "ru";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Social -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
  <ul class="list-group" id="social">
    <li class="list-group-item"><a href="https://github.com/METAJIJI/"><i class="fa fa-github-square fa-lg"></i> Github</a></li>
    <li class="list-group-item"><a href="http://stackoverflow.com/users/2020443/metajiji"><i class="fa fa-stack-overflow fa-lg"></i> stackoverflow</a></li>
  </ul>
</li>
<!-- End Sidebar/Social -->

<!-- Sidebar/Recent Posts -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
  <ul class="list-group" id="recentposts">
    <li class="list-group-item"><a href="https://metajiji.github.io/blog/fedora-chromium-firefox-flashplayer/">Fedora 25 install adobe flashplayer</a></li>
    <li class="list-group-item"><a href="https://metajiji.github.io/blog/atlassian-crowd-jni-native-lib/">Atlassian crowd apache tomcat jni native lib</a></li>
    <li class="list-group-item"><a href="https://metajiji.github.io/blog/atlassian-crowd-systemd/">Atlassian crowd systemd unit</a></li>
  </ul>
</li>
<!-- End Sidebar/Recent Posts -->

<!-- Sidebar/Categories -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Categories</span></h4>
  <ul class="list-group" id="categories">
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/atlassian/"><i class="fa fa-folder-open fa-lg"></i>Atlassian</a>
    </li>
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/bash/"><i class="fa fa-folder-open fa-lg"></i>Bash</a>
    </li>
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/bat-cmd/"><i class="fa fa-folder-open fa-lg"></i>Bat-cmd</a>
    </li>
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/bind/"><i class="fa fa-folder-open fa-lg"></i>Bind</a>
    </li>
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/blog/"><i class="fa fa-folder-open fa-lg"></i>Blog</a>
    </li>
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/centos/"><i class="fa fa-folder-open fa-lg"></i>CentOS</a>
    </li>
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/docker/"><i class="fa fa-folder-open fa-lg"></i>Docker</a>
    </li>
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/fedora/"><i class="fa fa-folder-open fa-lg"></i>Fedora</a>
    </li>
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/freebsd/"><i class="fa fa-folder-open fa-lg"></i>FreeBSD</a>
    </li>
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/gitlab/"><i class="fa fa-folder-open fa-lg"></i>Gitlab</a>
    </li>
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/hardware/"><i class="fa fa-folder-open fa-lg"></i>Hardware</a>
    </li>
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/javascript/"><i class="fa fa-folder-open fa-lg"></i>JavaScript</a>
    </li>
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/linux/"><i class="fa fa-folder-open fa-lg"></i>Linux</a>
    </li>
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/macosx/"><i class="fa fa-folder-open fa-lg"></i>MacOSX</a>
    </li>
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/mikrotik/"><i class="fa fa-folder-open fa-lg"></i>Mikrotik</a>
    </li>
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/postgresql/"><i class="fa fa-folder-open fa-lg"></i>PostgreSQL</a>
    </li>
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/ubuntu/"><i class="fa fa-folder-open fa-lg"></i>Ubuntu</a>
    </li>
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/vcs/"><i class="fa fa-folder-open fa-lg"></i>VCS</a>
    </li>
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/windows/"><i class="fa fa-folder-open fa-lg"></i>Windows</a>
    </li>
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/zabbix/"><i class="fa fa-folder-open fa-lg"></i>Zabbix</a>
    </li>
    <li class="list-group-item">
      <a href="https://metajiji.github.io/category/zimbra/"><i class="fa fa-folder-open fa-lg"></i>Zimbra</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Categories -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2017 Denis Kadyshev
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>                <p><small>  <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.ru"><img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a>
    Content
  licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.ru">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>, except where indicated otherwise.
</small></p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://metajiji.github.io/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://metajiji.github.io/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://metajiji.github.io/theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'github-metajiji-blog'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics Universal -->
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-106896103-1', 'auto');
        ga('send', 'pageview');
    </script>
    <!-- End Google Analytics Universal Code -->


</body>
</html>